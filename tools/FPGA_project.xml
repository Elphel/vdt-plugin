<?xml version="1.0" encoding="UTF-8"?>
<vdt-project>
	<interface name="FPGAPprojectInterface">
		<syntax name="RemoteRootSyntax" format="%%ParamValue/%%ProjectName" />
		<syntax name="SourceListSyntax" format="%(%%SourceList%| %)" />
		<syntax name="FilteredSourceListSyntax" format="%(%%FilteredSourceList%| %)" />
		<syntax name="ProgramSyntax" format="%(%%ParamValue%|\n%)" />
		<!-- typedef -->
	</interface>
	<package name="FPGA_package"
	              label="Common parameters for FPGA projects"
	              interface="FPGAPprojectInterface">
	     <parameter id="RemoteHost" label="Remote Host IP" tooltip="Remote Host IP" type="String"
			format="CopyValue" default="127.0.0.1" readonly="false" visible="true" />


		<parameter id="RemoteUser" label="Remote user name" tooltip="Remote user name" type="String"
			format="CopyValue" default="%%UserName" readonly="false" visible="true" />

		<parameter id="PreSSH" label="pre-ssh" tooltip="pre-ssh shell parameters"
			type="String" format="CopyValue" default="" readonly="false" visible="true" />

		<parameter id="ShellSwitches" label="Shell switch" tooltip="Shell switches" type="String"
			format="CopyValue" default="-c" readonly="false" visible="true" />

		<parameter id="TerminalMode" type="BoolYesNo" format="None"
			default="false" label="Force terminal mode" tooltip="Force terminal mode for the remote program" />

		<parameter id="SSHSwitches" label="ssh switches" tooltip="Other ssh switches"
			type="String" format="CopyValue" default="" readonly="false" visible="true" />


		<parameter id="VivadoRelease" label="Vivado release" tooltip="Vivado release number (part of the path)"
			type="String" format="CopyValue" default="2013.4" readonly="false"
			visible="true" />

		<parameter id="VivadoInstallationRoot" label="Vivado root" tooltip="Vivado Installation Root"
			type="String" format="CopyValue" default="/opt/Xilinx/Vivado" readonly="false"
			visible="true" />
			
		<parameter id="VivadoRelativeExeOptions" label="Vivado launch command" tooltip="Vivado relative executable path and command options"
			type="String" format="CopyValue" default="bin/vivado -mode tcl" readonly="false"
			visible="true" />

		<parameter id="VivadoUnisimsPath" label="unisims location" tooltip="Relative location of Xilinx unisims library"
			type="String" format="CopyValue" default="data/verilog/src" readonly="false"
			visible="true" />
<!-- /opt/Xilinx/Vivado/2013.4/bin/vivado -mode tcl -->
		<parameter id="RemoteCommand" label="Remote command" tooltip="Remote ssh command"
			type="String" format="CopyValue"
			default="%VivadoInstallationRoot/%VivadoRelease/%VivadoRelativeExeOptions"
			readonly="true"
			visible="true" />
		<parameter id="VivadoUnisimsAbsolutePath" label="Full unisims path" tooltip="Full path of Xilinx unisims primitives library"
			type="String" format="CopyValue"
			default="%VivadoInstallationRoot/%VivadoRelease/%VivadoUnisimsPath"
			readonly="true"
			visible="true" />
			

		<parameter id="SSHExtra" label="ssh extra parameters" tooltip="ssh extra parameters" type="String"
			format="CopyValue" default="" readonly="false" visible="true" />

		<parameter id="VivadoConsole" default="Vivado" label="Vivado console name" tooltip="Vivado console name in Eclipse, used by other tools"
			type="String" format="CopyValue" visible="true" readonly="false"/>
        <parameter 	id="NoBabyTalk" label="No Baby talk" tooltip= "Remove licensing baby talk from INFO messages."
        			default="true" visible="true" omit="false" type="Boolean" format="DashName"/>
			
	     <input>
			<group name="VivadoServer" label="Vivado server setup">
				"RemoteHost"
				"RemoteUser"
				"VivadoRelease"
				"VivadoInstallationRoot"
			</group>
			<group name="Advanced" label="Vivado server advanced setup">
				"TerminalMode"
				"ShellSwitches"
				"PreSSH"
				"SSHSwitches"
				"SSHExtra"
				"VivadoConsole"
				"VivadoRelativeExeOptions"
				"VivadoUnisimsPath"
				"RemoteCommand"
				"VivadoUnisimsAbsolutePath"
			</group>
		</input>
	</package>

	<project name="FPGA_project" label="Project parameters for FPGA_project"
	    package="FPGA_package"
		interface="FPGAPprojectInterface">
		<!--  Simulation parameters  -->
		<parameter id="SimulationTopFile" label="Top simulation file" tooltip="Project top simulation file"
			type="Filename" default="" format="CopyValue"
			readonly="false" />
		<parameter id="SimulationTopModule" label="Simulation top module" tooltip="Project top simulation module"
			type="String" default="" format="CopyValue" readonly="false" />
		<parameter id="ImplementationTopFile" label="Implementation top file" tooltip="Project file with top implementation module"
			type="Filename" default="" format="CopyValue" readonly="false" />
		<parameter id="SimulDir" label="Simulation directory" tooltip="Project simulation directory"
			type="Pathname" default="simulation" format="CopyValue" readonly="false" />
		<!--  Vivado parameters  -->
		<parameter	id="part" label="Device" tooltip= "FPGA part number (device) to use"
        		default="" visible="true" omit="" type="String" format="Dash"/>
		<parameter id="VivadoProjectRoot" label="Workspace directory" tooltip="Relative (to user home directory) path of the workspace on Vivado server"
			type="String" default="vdt" format="RemoteRootSyntax" readonly="false" />

		<parameter id="VivadoLocalDir" label="Local Xilinx directory" tooltip="Local project subdirectroy for Xilinx Vivado generated files"
			type="Pathname" default="vivado" format="CopyValue" readonly="false" />

		<parameter id="VivadoLocalResultDir" label="Local Xilinx results directory"
		    tooltip="Local project subdirectroy for Xilinx Vivado generated result files"
			type="Pathname" default="vivado" format="CopyValue" readonly="false" />

		<parameter id="VivadoLogDir" label="Local Vivado tool logsx directory" tooltip="Local project subdirectroy for Xilinx Vivado tools log files"
			type="Pathname" default="vivado_logs" format="CopyValue" readonly="false" />

		<parameter id="VivadoIgnoreSource" label="Ignore source files" tooltip="Pattern to ignore source files that match this regular expression"
			type="String" default=".*unisims.*" format="CopyValue" readonly="false" />
<!-- Calculated -->
<!-- 	<parameter id="VivadoProjectRoot" label="" tooltip="Relative (to user home directory) path of the project on Vivado server"
			type="String" default="vdt" format="RemoteRootSyntax" readonly="false" /> -->
			
	 	    <parameter id="SnapshotSynth"
	        label="Synthesis snapshot" tooltip="Name of Vivado snapshot archive after synthesis"
	        default="%%ProjectName-synth.dcp"
			type="Filename" format="CopyValue" />

	 	    <parameter id="SnapshotOptPlace"
	        label="Placement snapshot" tooltip="Name of Vivado snapshot archive after optimization/placement"
	        default="%%ProjectName-opt-place.dcp"
			type="Filename" format="CopyValue" />

	 	    <parameter id="SnapshotOpt"
	        label="Optimization snapshot" tooltip="Name of Vivado snapshot archive after optimization"
	        default="%%ProjectName-opt.dcp"
			type="Filename" format="CopyValue" />

	 	    <parameter id="SnapshotOptPower"
	        label="Power optimization snapshot" tooltip="Name of Vivado snapshot archive after power optimization"
	        default="%%ProjectName-opt-power.dcp"
			type="Filename" format="CopyValue" />

	 	    <parameter id="SnapshotPlace"
	        label="Placement snapshot" tooltip="Name of Vivado snapshot archive after placement"
	        default="%%ProjectName-place.dcp"
			type="Filename" format="CopyValue" />

	 	    <parameter id="SnapshotOptPhys"
	        label="Physical optimization snapshot" tooltip="Name of Vivado snapshot archive after physical optimization"
	        default="%%ProjectName-opt-phys.dcp"
			type="Filename" format="CopyValue" />

	 	    <parameter id="SnapshotRoute"
	        label="Routing snapshot" tooltip="Name of Vivado snapshot archive after routing"
	        default="%%ProjectName-route.dcp"
			type="Filename" format="CopyValue" />

	 	    <parameter id="DisableVivadoSynth"
	        label="Disable Vivado synthesis" tooltip="Disable tool Vivado Synthesis"
	        default="false"
			type="Boolean" format="None" />

	 	    <parameter id="DisableVivadoOptPlace"
	        label="Disable Vivado opt/place" tooltip="Disable tool Vivado Optimize and Place"
	        default="false"
			type="Boolean" format="None" />

	 	    <parameter id="DisableVivadoOpt"
	        label="Disable Vivado optimization" tooltip="Disable tool Vivado Optimize"
	        default="false"
			type="Boolean" format="None" />

	 	    <parameter id="DisableVivadoOptPower"
	        label="Disable Vivado power optimization" tooltip="Disable reduction of power consumption"
	        default="false"
			type="Boolean" format="None" />

	 	    <parameter id="DisableVivadoPlace"
	        label="Disable placement" tooltip="Disable tool Vivado Place"
	        default="false"
			type="Boolean" format="None" />

	 	    <parameter id="DisableVivadoOptPhys"
	        label="Disable phys. optimization" tooltip="Disable tool Vivado Physical (post-placement) Optimization"
	        default="false"
			type="Boolean" format="None" />

	 	    <parameter id="DisableVivadoRoute"
	        label="Disable Vivado route" tooltip="Disable tool Vivado route"
	        default="false"
			type="Boolean" format="None" />
			
	 	    <parameter id="DisableVivadoBitsteam"
	        label="Disable Vivado bitstream" tooltip="Disable tool Vivado bitstream generator"
	        default="false"
			type="Boolean" format="None" />
 				"" <!--  same as in project -->

<!-- Invisible (calculated) project-wide parameters -->			
		<parameter id="SimulDirSlash" type="Pathname" visible="false"
		 default="?%SimulDir=:,%SimulDir/" format="CopyValue"/>
		<parameter id="SedPaths" type="String" format="CopyValue"
		label="sed commaaand line" tooltip="Remote file prefix to be removed for the local error parser"
		default="sed -u 's@/home/%RemoteUser/%VivadoProjectRoot/%%ProjectName/@@'"/>
		
			
		<input>
			<group name="Simulation" label="Simulation properties">
				"SimulationTopFile"
				"SimulationTopModule"
				"ImplementationTopFile"
				"SimulDir"
			</group>
			<group name="Vivado" label="Vivado general properties">
			    "part"
				"VivadoProjectRoot"
				"VivadoLocalDir"
				"VivadoLocalResultDir"
				"VivadoLogDir"
				"VivadoIgnoreSource"
				"SedPaths"
			</group>
			<group name="VivadoDisable" label="Selectively disable Vivado tools">
			    "DisableVivadoSynth"
<!-- 			"DisableVivadoOptPlace"  -->
			    "DisableVivadoOpt"
			    "DisableVivadoOptPower"
			    "DisableVivadoPlace"
			    "DisableVivadoOptPhys"
			    "DisableVivadoRoute"
			    "DisableVivadoBitsteam"
			</group>
			<!--  TODO: make time-stamped and "latest" for snapshots -->
			<group name="VivadoSnapshots" label="Vivado snapshot archive names">
				"SnapshotSynth"
<!-- 			"SnapshotOptPlace"  -->	
				"SnapshotOpt"
				"SnapshotOptPower"
				"SnapshotPlace"
				"SnapshotOptPhys"
				"SnapshotRoute"
			</group>
		</input>
		<output>
		</output>
	</project>
</vdt-project>
