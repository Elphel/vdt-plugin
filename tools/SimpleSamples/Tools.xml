<?xml version="1.0" encoding="UTF-8"?>

<vdt-project>
    <!--
    ===========================================================


        Just a sample interface


    ============================================================
    -->
    <interface name="MyControlInterface"
        extends="project_interface">
        <typedef name="MyType1">
            <paramtype kind="number"
                       lo="1"
                       hi="10"
                       format="xx.yy"/>
        </typedef>

        <typedef name="EnumBaseType">
            <paramtype kind="number"
                       lo="0"
                       hi="100"
                       format="xxx"/>
        </typedef>

        <typedef name="MyType2">
            <paramtype kind="enum" base="EnumBaseType">
                <item label="ELEM_1"
                      value="0"/>
                <item label="ELEM_2"
                      value="10"/>
                <item label="ELEM_3"
                      value="100"/>
            </paramtype>
        </typedef>

        <typedef name="MyType2b">
            <paramtype kind="enum" base="EnumBaseType">
                <item value='"'/>
                <item value="15"/>
                <item value="25"/>
            </paramtype>
        </typedef>

        <typedef name="Boolean">
            <paramtype kind="bool"
                       formatTrue="TRUE"
                       formatFalse="FALSE"/>
        </typedef>

        <typedef name="MyType4">
            <paramtype kind="string"
                       maxlength="40"
                       sensitivity="uppercase"/>
        </typedef>

        <typedef name="MyType5">
            <paramtype kind="string"
                       maxlength="256"
                       sensitivity="uppercase"
                       textkind="file"
                       filemask="*.xml"/>
        </typedef>

        <typedef name="MyType6">
            <paramtype kind="string"
                       maxlength="256"
                       sensitivity="uppercase"
                       textkind="dir"/>
        </typedef>

        <typedef name="MyString">
            <paramtype kind="string"
                       maxlength="256"
                       sensitivity="sensitive"/>
        </typedef>

        <typedef name="MyTypeList" list="true">
            <paramtype kind="string"
                       maxlength="256"
                       sensitivity="sensitive"/>
        </typedef>


        <syntax name   = "MySyntax10"
                format = "%%ParamName={%(Pref %%ParamValue%|-%)}"/>

        <syntax name   = "MySyntax11"
                format = "%%ParamName={%(Pref_%%ParamValue%|#%)}"/>

        <syntax name   = "MySyntax1"
                format = "%%ParamName={%(&quot;%%ParamValue&quot;%|;%)}"/>


        <syntax name   = "MySyntaxForType2"
                format = "/%%ParamName:%%ParamValue"/>
                
        <syntax name   = "ProjectNameSyntax"
                format = "%%ParamName:%%ProjectName"/>

        <syntax name   = "CurrentFileSyntax"
                format = "%%ParamName:%%CurrentFile"/>

        <syntax name   = "CurrentFileSyntax1"
                format = "%%ParamName:%%ParamValue"/>

        <syntax name   = "CurrentFileBaseSyntax"
                format = "%%ParamName:%%CurrentFileBase"/>

        <syntax name   = "TopModuleSyntax"
                format = "%%ParamName:%%TopModule"/>

        <syntax name   = "FileListSyntax"
                format = "%%ParamName:{%(%%FileList%|;%)}"/>
                
        <syntax name   = "SourceListSyntax"
                format = "%%ParamName:{%(%%SourceList%|;%)}"/>

        <syntax name   = "exeFileSyntax"
                format = "%%ParamValue"/>
        <typedef name="exeType">
            <paramtype kind="string"
                       maxlength="256"
                       sensitivity="sensitive"
                       textkind="file"/>
        </typedef>

        <syntax name   = "QuotedFileListSyntax"
                format = '--%%ParamName %("%%FileList"%| %)'/>
        <syntax name   = "QuotedTopModuleSyntax"
                format = "--%%ParamName=%%TopModule"/>
        <syntax name   = "QuotedTopModulesSyntax"
                format = "--%%ParamName %(&quot;%%TopModules&quot;%| %)"/>
        <syntax name   = "QuotedSourceListSyntax"
                format = "--%%ParamName %(&quot;%%SourceList&quot;%| %)"/>
        <syntax name   = "QuotedCurrentFileSyntax"
                format = "--%%ParamName=&quot;%%CurrentFile&quot;"/>
        <syntax name   = "QuotedCurrentFileBaseSyntax"
                format = "--%%ParamName=&quot;%%CurrentFileBase&quot;"/>
        <syntax name   = "QuotedProjectNameSyntax"
                format = '--%%ParamName="%%ProjectName"'/>
        <syntax name   = "QuotedProjectPathSyntax"
                format = '--%%ParamName="%%ProjectPath"'/>

               
        <syntax name   = "JustValueSyntax"
                format = "%%ParamValue"></syntax>
                
    </interface>

    <project name="SampleProject"
             label="Sample Project"
             interface="MyControlInterface">
    </project>

    <!--
    ===========================================================


        Sample tool 1


    ============================================================
    -->
<!--          exe         = "?%%OS: Windows=mytest.bat, Linux=mytest.sh" -->
    <tool name        = "MyTool"
          project     = "project_settings"
          label       = "My Tool"
          shell       = "?%%OS: Windows=, Linux=/bin/bash"
          interface   = "MyControlInterface"
          description = "Tool that does small minor things"
          errors      = "(.*):([0-9]+): [a-z ]*error: (.*)"
          warnings    = "(.*):([0-9]+): warning: (.*)"
          info        = "(.*):([0-9]+): info: (.*)"> <!--does not actually exist -->

        <extensions-list>
            <extension mask="v"/>
            <extension mask="tf"/>
        </extensions-list>

        <parameter id       = "Param_Shell_Options"
                   label    = "Param_Shell_Options"
                   type     = "MyString"
                   format   = "JustValueSyntax"
                   default  = "-c"
                   readonly = "false"
                   visible  = "true"/>

        <parameter id       = "Param_Exe"
                   label    = "Param_Exe"
                   type     = "exeType"
                   format   = "exeFileSyntax"
                   default  = "/data/vdt/workspace_01/veditor/parsers/mytest.sh"
                   readonly = "false"
                   visible  = "true"/>


        <parameter id       = "Param_ProjectName"
                   label    = "Param_ProjectName"
                   type     = "MyString"
                   format   = "QuotedProjectNameSyntax"
                   default  = "%%ProjectName"
                   omit     = ""   
                   readonly = "true"
                   visible  = "true"/>

        <parameter id       = "Param_ProjectPath"
                   label    = "Param_ProjectPath"
                   type     = "MyString"
                   format   = "QuotedProjectPathSyntax"
                   default  = "%%ProjectPath"
                   omit     = ""   
                   readonly = "true"
                   visible  = "true"/>

        <parameter id       = "Param_CurrentFile1"
                   label    = "Param_CurrentFile1"
                   type     = "MyString"
                   format   = "CurrentFileSyntax1"
                   default  = "%%CurrentFile"
                   readonly = "true"
                   visible  = "true"/>

        <parameter id       = "Param_CurrentFile"
                   label    = "Param_CurrentFile"
                   type     = "MyString"
                   format   = "QuotedCurrentFileSyntax"
                   default  = "%%CurrentFile"
                   omit     = ""   
                   readonly = "true"
                   visible  = "true"/>

        <parameter id       = "Param_TopModule"
                   label    = "Param_TopModule"
                   type     = "MyString"
                   format   = "QuotedTopModuleSyntax"
                   default  = ""
                   readonly = "true"
                   visible  = "true"/>

        <parameter id       = "Param_TopModules"
                   label    = "Param_TopModules"
                   type     = "MyTypeList"
                   format   = "QuotedTopModulesSyntax"
                   default  = ""
                   readonly = "true"
                   visible  = "true"/>


        <parameter id       = "Param_CurrentFileBase"
                   label    = "Param_CurrentFileBase"
                   type     = "MyString"
                   format   = "QuotedCurrentFileBaseSyntax"
                   default  = ""
                   readonly = "true"
                   visible  = "true"/>

        <parameter id       = "Param_FileList"
                   label    = "Param_FileList"
                   type     = "MyTypeList"
                   format   = "QuotedFileListSyntax"
                   default  = ""
                   readonly = "true"
                   visible  = "true"/>

        <parameter id       = "Param_SourceList"
                   label    = "Param_SourceList"
                   type     = "MyTypeList"
                   format   = "QuotedSourceListSyntax"
                   default  = ""
                   readonly = "true"
                   visible  = "true"/>

        <parameter id       = "Param_parser"
                   type     = "MyType1"
                   format   = "JustValueSyntax"
                   default  = "| python -u /data/vdt/workspace_01/veditor/parsers/parser01.py; ls -all"
                   readonly = "false"
                   visible  = "true"
                   label    = "Parameter number"/>


        <parameter id       = "Param_A"
                   type     = "MyType1"
                   format   = "MySyntax1"
                   default  = "3"
                   readonly = "true"
                   visible  = "true"
                   label    = "Parameter number"/>

        <parameter id       = "Param_B"
                   label    = "Param_B"
                   type     = "MyType1"
                   format   = "MySyntax1"
                   default  = "5"
                   readonly = "false"
                   visible  = "true"/>

        <parameter id       = "Param_B1"
                   label    = "Param_B1"
                   type     = "MyString"
                   format   = "MySyntax1"
                   default  = "5"
                   readonly = "false"
                   visible  = "true"/>



        <if Param_B="5">
          <if-not Param_B="4">
            <parameter id      = "Param_C"
                       type    = "MyType5"
                       format  = "MySyntaxForType2"
                       default = "? %Param_A = %Param_B: F:\, G:\"
                       label   = "File parameter"/>

            <if Param_C="C:\">
                <parameter id      = "Param_D"
                           type    = "MyType6"
                           format  = "MySyntaxForType2"
                           default = "D:\sass"
                           label   = "Dir parameter"/>
            </if>
            <if Param_C="D:\">
                <parameter id       = "Param_D"
                           type     = "MyType1"
                           format   = "MySyntax1"
                           default  = "10"
                           label    = "Second parameter number"/>
            </if>
            <if-not Param_C="C:\">
            <if-not Param_C="D:\">
                <parameter id       = "Param_D"
                           type     = "MyType1"
                           format   = "MySyntax1"
                           default  = "9"
                           label    = "Third parameter number"/>
            </if-not>
            </if-not>
          </if-not>
        </if>

        <input>
            <group name="General">
                "Param_Shell_Options"
                "Param_Exe"
                "Param_A"
                "Param_B"
                "Param_B1"
                "Param_C"
                "Param_ProjectName"
                "Param_ProjectPath"
                "Param_CurrentFile1"
            </group>
            <group name="Extra">
                "Param_D"
                "Param_parser"
            </group>
        </input>

        <output>
            <line name="command_line">
                "%Param_Shell_Options"
                "%Param_Exe"
                "%Param_ProjectName"
                "%Param_ProjectPath"
                "%Param_CurrentFile"
                "%Param_CurrentFileBase"
                "%Param_TopModule"
                "%Param_TopModules"
 <!--               "%Param_FileList"
                "%Param_SourceList" -->
<!--                
                "-constant_param=ConstantStuff %Param_A %Param_B %Param_B1 %Param_C %Param_D"
                "%Param_ProjectName"
                "%Param_CurrentFile1"
                "%Param_CurrentFile"
                "%Param_CurrentFileBase"
                "%Param_TopModule"
                "%Param_FileList"
                "%Param_SourceList" -->
                "%Param_parser"
            </line>
        </output>
    </tool>

    <!--
    ===========================================================


        Sample tool 2


    ============================================================
    -->
    <tool name        = "MyTool_exe"
          project     = "SampleProject"
          label       = "MyTool (exe)"
          inherits    = "MyTool"
          exe         = "?%%OS: Windows=mytest.exe, Linux=mytest"
          icon        = "sample.gif"
          interface   = "MyControlInterface"
          description = "Tool that does big important things">

        <extensions-list>
            <extension mask="v"/>
        </extensions-list>

        <parameter id       = "Param_A"
                   outid    = "EX_PARAM_A"
                   type     = "MyType1"
                   format   = "MySyntax1"
                   default  = "5"
                   readonly = "false"
                   visible  = "true"
                   omit     = "6"
                   label    = "Parameter takoi-to"/>

        <parameter id       = "Param_B"
                   type     = "MyType2"
                   format   = "MySyntaxForType2"
                   default  = "10"
                   readonly = "false"
                   visible  = "true"
                   label    = "Parameter drugoi"/>

        <parameter id       = "Param_X"
                   type     = "MyType2"
                   format   = "MySyntaxForType2"
                   default  = "10"
                   readonly = "false"
                   visible  = "true"
                   label    = "Parameter X"/>

        <input>
            <group name="General">
                <delete>
                    "Param_C"
                </delete>

                <insert after="Param_A">
                    <if Param_A="6">
                        "Param_X"
                    </if>
                </insert>
                <insert after="first">
                    <if Param_A="5">
                        "Param_X"
                    </if>
                </insert>
            </group>
        </input>

        <output>
            <line name="command_line">
                "%Param_A"
                "%Param_B"
            </line>
        </output>
    </tool>


    <!--
    ===========================================================


        Sample tool 3


    ============================================================
    -->
    <tool name        = "MyTool2_exe"
          project     = "SampleProject"
          inherits    = "MyTool_exe"
          label       = "MyTool2 (exe)"
          exe         = "?%%OS: Windows=mytest.exe, Linux=mytest"
          icon        = "sample.gif"
          interface   = "MyControlInterface"
          description = "Tool that also does big important things">

        <extensions-list>
            <extension mask="v"/>
        </extensions-list>

        <parameter id       = "Param_A"
                   outid    = "EX_PARAM_A"
                   type     = "MyType1"
                   format   = "MySyntax1"
                   default  = "555"
                   readonly = "true"
                   visible  = "true"
                   omit     = "6"
                   label    = "Parameter takoi-to"/>

<!--
        <parameter id       = "Param_B"
                   visible  = "false"/>
-->

        <input>
            <group name="General" label="UUU" visible="false">
            </group>
        </input>

        <output>
            <line name="command_line">
                "%Param_A"
                "%Param_C"
            </line>
        </output>
    </tool>
</vdt-project>
